//  Author: ankojh

(async function () {
  //======================================================================================================================

  //  Constants

  //======================================================================================================================


  const LYRICS_BASEURL = 'https://api.lyrics.ovh/v1'
  const SUGGESTION_BASEURL = 'https://api.lyrics.ovh/suggest'



  //======================================================================================================================

  //  State

  //======================================================================================================================

  let suggestionsListState = [];
  let lyrics = '';



  //======================================================================================================================

  //  Listeners

  //======================================================================================================================




  //======================================================================================================================

  //  Fetch

  //======================================================================================================================


  const fetchRequest = async (url) => {
    try {
      return await (await fetch(url)).json();
    }
    catch (e) {
      throw e;
    }
  }



  const fetchLyrics = async (artist, title) => {
    const result = await fetchRequest(`${LYRICS_BASEURL}/${artist}/${title}`)
    return result;
  }


  const fetchSuggestions = async (searchQuery) => {
    const result = await fetchRequest(`${SUGGESTION_BASEURL}/${searchQuery}`)
    return result;
  }


  //======================================================================================================================

  //  Utils

  //======================================================================================================================

  const debouncedFunc = (func, timeInMS) => {
    let timeout;
    return (...args) => {
      clearTimeout(timeout);
      timeout = setTimeout(() => {
        func(...args);
      }, timeInMS);
    }
  }





  //======================================================================================================================

  //  INIT

  //======================================================================================================================


  window.onload = function () { }


})();



